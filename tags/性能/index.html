
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="SilenceDut的代码世界">
    <title>标签: 性能 - SilenceDut的代码世界</title>
    <meta name="author" content="SilenceDut">
    
    
        <link rel="icon" href="http://silencedut.com/assets/images/avatar.png">
    
    
    <meta name="description" content="SilenceDut">
<meta property="og:type" content="blog">
<meta property="og:title" content="SilenceDut的代码世界">
<meta property="og:url" content="http://silencedut.com/tags/性能/index.html">
<meta property="og:site_name" content="SilenceDut的代码世界">
<meta property="og:description" content="SilenceDut">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SilenceDut的代码世界">
<meta name="twitter:description" content="SilenceDut">
    
    
        
    
    
        <meta property="og:image" content="http://silencedut.com/assets/images/avatar.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-nuvue6sithwirecbhvw3dkaobiojqvtadsnhguwi7k04xklybw5djl1smadp.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">SilenceDut的代码世界</a>
    </h1>
    
        
            <a  class="header-right-icon "
                href="#about">
        
        
            <i class="fa fa-lg fa-avatar.png"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/avatar.png"/>
            </a>
            <span class="sidebar-profile-name">SilenceDut</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首页</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">标签</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/SilenceDut" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="mailto:silencedutchman@foxmail.com" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">邮箱</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="http://www.itvincent.net/" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">itvincent</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    

<section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/05/22/fpsviewer—实时显示fps，监控Android卡顿的可视化工具/">
                            fpsviewer—实时显示fps，监控Android卡顿的可视化工具
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-05-22T02:22:24+08:00">
	
		    5月 22, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/all-categories/Android/">Android</a>, <a class="category-link" href="/all-categories/Android/OpenSourceProject/">OpenSourceProject</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <p><a href="https://github.com/SilenceDut/fpsviewer/">fpsviewer</a>一个能实时显示fps,一段时间的平均帧率，以及帧率范围占比，并能获取卡顿堆栈的可视化工具。侵入性低，通过在异步线程采样获取堆栈，无代码侵入，性能消耗可忽略，对性能监控项的异常数据进行采集和分析，整理输出展示相应的堆栈，从而帮助开发者开发出更高质量的应用。</p>
<h4 id="常见分析、定位卡顿的方案"><a href="#常见分析、定位卡顿的方案" class="headerlink" title="常见分析、定位卡顿的方案"></a>常见分析、定位卡顿的方案</h4><h5 id="系统工具"><a href="#系统工具" class="headerlink" title="系统工具"></a>系统工具</h5><p><strong>1. TraceView</strong></p>
<p>目前一般是用现在AndroidStudio里的cpu-profile工具或者<code>TraceCompat.beginSection()</code>生成trace日志，<br>准确性高，这种分析方式只适合定性分析，因为工具很消耗cpu，有很多假jank，非常影响性能，显示耗时和实际耗时偏差很大，平常开发过程中也不易用，不可能实时开着，没法查看fps。<br>
                    
                        <a href="/2019/05/22/fpsviewer—实时显示fps，监控Android卡顿的可视化工具/" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2019/01/24/如何优雅的实现一个高效、高性能、异步数据实时刷新的列表/">
                            如何优雅的实现一个高效、高性能、异步数据实时刷新的列表
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2019-01-24T02:22:24+08:00">
	
		    1月 24, 2019
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/all-categories/Android/">Android</a>, <a class="category-link" href="/all-categories/Android/OpenSourceProject/">OpenSourceProject</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <p>Android的业务开发中。列表需求很很常见也很重要的部分，列表承载的信息多，涉及的的协议多，布局也多，尤其一些复杂的列表，不管是用ListView还是RecyclerView，使用不当会带来很多的性能问题和后期的维护问题，形成一套规范的，高性能的列表开发模式很有必要。</p>
<h2 id="案例分析"><a href="#案例分析" class="headerlink" title="案例分析"></a>案例分析</h2><p>用一些案例说明一下吧(只是用一些App里的截图来做类比，并不知其协议类型和实现方式)<br><img src="http://ww1.sinaimg.cn/large/006tNc79gy1g453n1ofwfj30b40e2wf3.jpg" alt=""></p>
<p>类似的列表不容易解决的主要在两个方面：</p>
<ol>
<li>先不管列表里每个Item的具体UI,首先列表是可通过下拉刷新和广播通知变化，数据应该也只能全量下发，更新频率可能特别高，列表的长度也可能很长比如几百条（一些聊天列表或者在线用户列表可能存在数据量更大的情况），如果过高频率的刷新很容易造成页面卡顿。
                    
                        <a href="/2019/01/24/如何优雅的实现一个高效、高性能、异步数据实时刷新的列表/" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-right" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2018/11/26/优雅的使用Handler,避免内存泄漏和页面崩溃/">
                            通过LifecycleOwner,优雅的使用Handler
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2018-11-26T21:22:24+08:00">
	
		    11月 26, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/all-categories/Android/">Android</a>, <a class="category-link" href="/all-categories/Android/OpenSourceProject/">OpenSourceProject</a>


    
</div>

            </div>
            
                <div class="postShorten-excerpt" itemprop="articleBody">
                    <h3 id="目前的问题"><a href="#目前的问题" class="headerlink" title="目前的问题"></a>目前的问题</h3><p>Handler的使用在Android日常开发中占用很大的比重，尤其在界面开发中，经常被用来做一些延迟执行的任务。但Handler带来的问题也很多，最常见的比如页面退出未执行的任务没有被移除导致内存泄漏，以及可能的由于界面已不存在而导致的崩溃。如下，如果不及时移除就可能造成上述问题。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mHander.postDelayed(<span class="keyword">new</span> Runnable() &#123;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</div><div class="line">       <span class="comment">//do something</span></div><div class="line">    &#125;</div><div class="line">&#125;,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<p>这些问题一般都比较容易想到，也容易解决，常用的方式是缓存一个Runnable变量在使用的类中，然后在页面生命周期结束移除</p>
                    
                        <a href="/2018/11/26/优雅的使用Handler,避免内存泄漏和页面崩溃/" class="postShorten-excerpt_link link">
                            阅读全文
                        </a>
                        
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">第 1 页 共 1 页</li>
    </ul>
</div>

</section>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 SilenceDut. All Rights Reserved.
    </span>
  	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.png"/>
        
            <h4 id="about-card-name">SilenceDut</h4>
        
            <h5 id="about-card-bio"><p>talk is cheap,here are my blog</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Android engineer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                广东，广州
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover-v1.2.0.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script-i4qo6jx6jji9fg0dftpya6ivemizsbow4fhow76d8dwpm7m1wbvi378ssumx.min.js"></script>
<!--SCRIPTS END-->



</html>
